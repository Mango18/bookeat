#pragma checksum "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "bb3fb2d72ce951539249b7e053956afae70da995"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Local_Id), @"mvc.1.0.view", @"/Views/Local/Id.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/_ViewImports.cshtml"
using Proyecto_net;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/_ViewImports.cshtml"
using Proyecto_net.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"bb3fb2d72ce951539249b7e053956afae70da995", @"/Views/Local/Id.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"d41fe32ce26a1ca3fd0f896f471645bdfa049388", @"/Views/_ViewImports.cshtml")]
    public class Views_Local_Id : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\n");
#nullable restore
#line 2 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"
  
    ViewData["Title"] = "Id";

#line default
#line hidden
#nullable disable
            WriteLiteral("\n");
#nullable restore
#line 6 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"
 if (ViewBag.local != null)
{
    var local = ViewBag.local;

#line default
#line hidden
#nullable disable
            WriteLiteral("    <div class=\"row\">\n        <div class=\"col-xs-12 col-sm-8\">\n            <div class=\"local-titulo\"><h1>");
#nullable restore
#line 11 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"
                                     Write(local.Nombre);

#line default
#line hidden
#nullable disable
            WriteLiteral("</h1></div>\n           \n");
#nullable restore
#line 13 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"
                     foreach (var item in local.Imagen)
                    {
                       

#line default
#line hidden
#nullable disable
            WriteLiteral("                            <img class=\"img-local\"");
            BeginWriteAttribute("src", " src=", 392, "", 406, 1);
#nullable restore
#line 16 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"
WriteAttributeValue("", 397, item.Url, 397, 9, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("alt", " alt=", 406, "", 424, 1);
#nullable restore
#line 16 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"
WriteAttributeValue("", 411, local.Nombre, 411, 13, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\n");
#nullable restore
#line 17 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"
                        
                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("               \n            <div class=\"mt-4 local-menu\">\n                <h3>Menú</h3>\n");
#nullable restore
#line 22 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"
                 if (ViewBag.menu != null)
                {
                    foreach (var lineaMenu in ViewBag.menu)
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <div class=\"linea-menu\">\n                            <span class=\"menu-nombre\">");
#nullable restore
#line 27 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"
                                                 Write(lineaMenu.Nombre);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\n                            <span class=\"menu-precio\">");
#nullable restore
#line 28 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"
                                                 Write(Math.Round(@lineaMenu.Precio, 2));

#line default
#line hidden
#nullable disable
            WriteLiteral(" €</span>\n                        </div>\n");
#nullable restore
#line 30 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"
                    }
                }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"            </div>
        </div>
        <div class=""col-xs-12 col-sm-4 local-reserva"">
            <div class=""card-local-reserva"">
                <div class=""row"">
                    <div class=""col-9"">
                        <div><span class=""local-categoria"">");
#nullable restore
#line 38 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"
                                                      Write(local.Categoria);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span></div>\n                        <div><span class=\"local-nombre\">");
#nullable restore
#line 39 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"
                                                   Write(local.Nombre);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span></div>\n                        <div><span class=\"local-direccion\">");
#nullable restore
#line 40 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"
                                                      Write(local.Direccion);

#line default
#line hidden
#nullable disable
            WriteLiteral(", ");
#nullable restore
#line 40 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"
                                                                        Write(local.CPostal);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span></div>\n                        <div><span class=\"local-direccion\">");
#nullable restore
#line 41 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"
                                                      Write(local.Barrio);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</span></div>
                    </div>
                    <div class=""col-3""></div>
                </div>
                <div class=""row mt-4"">
                    <div class=""col-12"">
                        <button class=""btn btn-reserva"" id=""reserva-button-abrir"">Reservar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
");
#nullable restore
#line 53 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"

    
        if (Context.Request.Cookies["user_type"] != "local")
        {
            

#line default
#line hidden
#nullable disable
#nullable restore
#line 57 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"
       Write(await Html.PartialAsync("../Reserva/_RealizarReserva"));

#line default
#line hidden
#nullable disable
#nullable restore
#line 57 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"
                                                                   ;
        }
        

#line default
#line hidden
#nullable disable
            DefineSection("scripts", async() => {
                WriteLiteral("\n            <script type=\"text/javascript\">\n            $(document).on(\"click\", \"#reservar-pedido-siguiente\", function () {\n\n                if ($(\'#takeaway\').is(\':checked\')) {\n                    var val = \'");
#nullable restore
#line 64 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"
                          Write(ViewBag.userEmail);

#line default
#line hidden
#nullable disable
                WriteLiteral(@"';
                    if (val != """") {
                        $('#reservar-modal-pedido').modal('hide');
                        $('#reservar-modal-confirmar').modal('show');
                    }
                    else {
                        $('#reservar-modal-pedido').modal('hide');
                        $('#reservar-modal-login').modal('show');
                    }
                }
                else {
                    $.ajax({
                        type: ""GET"",
                        url: ""/Reserva/comprobarMesas/"",
                        contentType: ""application/json; charset=utf-8"",
                        dataType: ""json"",
                        data: {
                        dia: $(""#datepicker"").datepicker({ dateFormat: 'dd,MM,yyyy' }).val(),
                        hora: $(""#seleccionarHora"").val(),
                        idlocal: '");
#nullable restore
#line 83 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"
                             Write(ViewBag.local.Idlocal);

#line default
#line hidden
#nullable disable
                WriteLiteral(@"'

        },
                        success: function (result, status, xhr) {
                            if (result != null) {
                                $('#seleccionarMesa').find('option').remove().end();22
                                $.each(result, function(index, value) {$('#seleccionarMesa').append($(""<option></option>"").attr(""value"", JSON.stringify(value.idmesa)).text(""Mesa: ""+JSON.stringify(value.numeroMesa) + "" - Capacidad: ""+JSON.stringify(value.capacidad)));});

                                $('#reservar-modal-pedido').modal('hide');
                                $('#reservar-modal-mesa').modal('show')
                            }
                            else {

                                $('#reservar-modal-pedido').modal('hide');
                                $('#reservar-modal-mesa').modal('show')
                            }
                        }
                    })
                }
            });

            //abre el modal para reservar
$(document).on(""cli");
                WriteLiteral(@"ck"", ""#reserva-button-abrir"", function () {
    //abre el  para seleccionar fecha
    $('#reservar-modal-fecha').modal('show');
});

//modal seleccionar fecha
$(document).on(""click"", ""#reservar-fecha-siguiente"", function () {

    $('#reservar-modal-fecha').modal('hide');
    $('#reservar-modal-hora').modal('show');
});


$(function () {
    $(""#datepicker"").datepicker({ minDate: 0, maxDate: ""+2M"" });
});

//modal seleccionar hora
$(document).on(""click"", ""#reservar-hora-anterior"", function () {
    $('#reservar-modal-hora').modal('hide');
    $('#reservar-modal-fecha').modal('show');
});

$(document).on(""click"", ""#reservar-hora-siguiente"", function () {
    $('#reservar-modal-hora').modal('hide');
    $('#reservar-modal-pedido').modal('show');
});

//modal seleccionar pedido
$(document).on(""click"", ""#reservar-pedido-anterior"", function () {
    $('#reservar-modal-pedido').modal('hide');
    $('#reservar-modal-hora').modal('show');
});

//modal reservar mesa
$(document).on(""click"", ""#reservar-mesa-anterior"", f");
                WriteLiteral("unction () {\n    $(\'#reservar-modal-mesa\').modal(\'hide\');\n    $(\'#reservar-modal-pedido\').modal(\'show\');\n});\n\n$(document).on(\"click\", \"#reservar-mesa-siguiente\", function () {\n    var val = \'");
#nullable restore
#line 146 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"
          Write(ViewBag.userEmail);

#line default
#line hidden
#nullable disable
                WriteLiteral(@"';
                    if (val != """") {
                        $('#reservar-modal-mesa').modal('hide');
                        $('#reservar-modal-confirmar').modal('show');
                    }
                    else {

                                $('#reservar-modal-mesa').modal('hide');
                                $('#reservar-modal-login').modal('show');

    }
});



//modal reservar login
$(document).on(""click"", ""#reservar-login-anterior"", function () {
    $('#reservar-modal-login').modal('hide');
    $('#reservar-modal-pedido').modal('show');
});

$(document).on(""click"", ""#reservar-login-siguiente"", function () {
        $.ajax({
            type: ""GET"",
            url: ""/Reserva/comprobarLogin/"",
            contentType: ""application/json; charset=utf-8"",
            dataType: ""json"",
            data: {
            email: $(""#reservar-loginform-email"").val(),
            password: $(""#reservar-loginform-password"").val()

        },
            success: function (result, status, xhr) {
  ");
                WriteLiteral(@"              if (result != 0) {
                        $('#reservar-modal-login').modal('hide');
                        $('#reservar-modal-confirmar').modal('show');
                }
                //else alert(""contraseña incorrecta"");
            }, error: function (xhr, status, error) { $(""#dbData"").html(""Result: "" + status + "" "" + error + "" "" + xhr.status + "" "" + xhr.statusText) }
        });
});

//modal confirmar
$(document).on(""click"", ""#reservar-confirmar-anterior"", function () {
    $('#reservar-modal-confirmar').modal('hide');
    if ($('#takeaway').is(':checked')) {
        $('#reservar-modal-pedido').modal('show');
    } else {$('#reservar-modal-mesa').modal('show');}
});

            $(document).on(""click"", ""#reservar-confirmar"", function () {

                if ($('#takeaway').is(':checked')) { var mesa = 0 } else {var mesa = $(""#seleccionarMesa option:selected"").val()}
        $.ajax({
            type: ""GET"",
            url: ""/Reserva/crearReserva/"",
            contentType: ""applicatio");
                WriteLiteral(@"n/json; charset=utf-8"",
            dataType: ""json"",
            data: {
            dia: $(""#datepicker"").datepicker({ dateFormat: 'dd,MM,yyyy' }).val(),
            hora: $(""#seleccionarHora"").val(),
                menu: $(""#seleccionarMenu"").val(),
            mesa: mesa,
            email: $(""#reservar-loginform-email"").val(),
            password: $(""#reservar-loginform-password"").val(),
            cantidad: $(""#cantidad"").val(),
                idlocal: '");
#nullable restore
#line 212 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"
                     Write(ViewBag.local.Idlocal);

#line default
#line hidden
#nullable disable
                WriteLiteral(@"',

        },
            success: function (result, status, xhr) {
                if (result != null) {
                    $('#reservar-modal-confirmar').modal('hide');
                }
                //else alert(result);
            }, error: function (xhr, status, error) { $(""#dbData"").html(""Result: "" + status + "" "" + error + "" "" + xhr.status + "" "" + xhr.statusText) }
        });
});
            </script>
        ");
            }
            );
#nullable restore
#line 224 "/Users/jersson/Projects/bookeat/Proyecto_net/Proyecto_net/Views/Local/Id.cshtml"
         
    }
    else { }

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
